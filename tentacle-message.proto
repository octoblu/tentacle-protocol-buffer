syntax = "proto2";

enum Topic {
  ignore       = 0;
  configure    = 1;
  immediate    = 2;
}

enum Action {
  ignore       = 0;
  digitalRead  = 1;
  digitalWrite = 2;
  analogRead   = 3;
  analogWrite  = 4;
  servoWrite   = 5;
  pwmWrite     = 6;
  i2cWrite     = 7;
  i2cRead      = 8;
}

message TentacleMessage {
  optional Authentication authentication = 1;
  repeated Pin pins = 2;
}

message Pin {
  optional uint32 number   = 1;
  optional uint32 value    = 2;
  optional uint32 delay    = 3;
  optional bool   pullup   = 4;
  optional string id       = 5;
  optional Topic  topic    = 6;
  optional Action action   = 7;
  optional bool   response = 8;
}

message Authentication {
  optional string id = 1;
  optional string key = 2;
}
