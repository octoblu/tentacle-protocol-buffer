syntax = "proto2";
enum TentacleMessageTopic {
  config = 0;
  action = 1;
  authentication = 2;
}

enum Action {
  ignore       = 0;
  digitalRead  = 1;
  digitalWrite = 2;
  analogRead   = 3;
  analogWrite  = 4;
  servoWrite   = 5;
  pwmWrite     = 6;
  i2cWrite     = 7;
  i2cRead      = 8;
}

message TentacleMessage {
  optional TentacleMessageTopic topic = 1;
  optional bool response = 2;
  repeated Pin pins = 3;
  optional MeshbluAuthentication authentication = 4;
}

message Pin {
  optional uint32 number = 1;
  optional uint32 value = 2;
  optional Action action = 3;
  // uint32 readFrequency = 4;
  optional bool pullup = 5;
}

message MeshbluAuthentication {
  optional string uuid = 1;
  optional string token = 2;
}
